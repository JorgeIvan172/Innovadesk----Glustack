{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\jorge\\\\OneDrive\\\\Documentos\\\\ESCUELA\\\\UNIVERSIDAD\\\\10MO SEMESTRE\\\\MULTIPLATAFORMA\\\\Innovadesk----Glustack\\\\Context\\\\CartContext.tsx\",\n  _this = this;\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { createContext, useContext, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar CartContext = createContext(undefined);\nexport var CartProvider = function CartProvider(_ref) {\n  var children = _ref.children;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    cart = _useState2[0],\n    setCart = _useState2[1];\n  var addToCart = function addToCart(product) {\n    var existingProductIndex = cart.findIndex(function (item) {\n      return item.id === product.id;\n    });\n    if (existingProductIndex !== -1) {\n      var updatedCart = _toConsumableArray(cart);\n      updatedCart[existingProductIndex].quantity++;\n      setCart(updatedCart);\n    } else {\n      setCart(function (prevCart) {\n        return [].concat(_toConsumableArray(prevCart), [_objectSpread(_objectSpread({}, product), {}, {\n          quantity: 1\n        })]);\n      });\n    }\n  };\n  var removeFromCart = function removeFromCart(productId) {\n    setCart(function (prevCart) {\n      return prevCart.map(function (item) {\n        return item.id === productId ? _objectSpread(_objectSpread({}, item), {}, {\n          quantity: Math.max(0, item.quantity - 1)\n        }) : item;\n      });\n    });\n  };\n  return _jsxDEV(CartContext.Provider, {\n    value: {\n      cart: cart,\n      addToCart: addToCart,\n      removeFromCart: removeFromCart\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 10\n  }, _this);\n};\nexport var useCart = function useCart() {\n  var context = useContext(CartContext);\n  if (!context) {\n    throw new Error('useCart must be used within a CartProvider');\n  }\n  return context;\n};","map":{"version":3,"names":["React","createContext","useContext","useState","jsxDEV","_jsxDEV","CartContext","undefined","CartProvider","_ref","children","_useState","_useState2","_slicedToArray","cart","setCart","addToCart","product","existingProductIndex","findIndex","item","id","updatedCart","_toConsumableArray","quantity","prevCart","concat","_objectSpread","removeFromCart","productId","map","Math","max","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_this","useCart","context","Error"],"sources":["C:/Users/jorge/OneDrive/Documentos/ESCUELA/UNIVERSIDAD/10MO SEMESTRE/MULTIPLATAFORMA/Innovadesk----Glustack/Context/CartContext.tsx"],"sourcesContent":["// CartContext.tsx\r\nimport React, { createContext, useContext, ReactNode, useState } from 'react';\r\n\r\ninterface Product {\r\n  id: string;\r\n  name: string;\r\n  price: number;\r\n  img: string;\r\n  quantity: number; // Nueva propiedad para la cantidad del producto en el carrito\r\n  // Otros detalles del producto...\r\n}\r\n\r\ninterface CartContextType {\r\n  cart: Product[];\r\n  addToCart: (product: Product) => void;\r\n  removeFromCart: (productId: string) => void;\r\n}\r\n\r\nconst CartContext = createContext<CartContextType | undefined>(undefined);\r\n\r\ninterface CartProviderProps {\r\n  children: ReactNode;\r\n}\r\n\r\nexport const CartProvider: React.FC<CartProviderProps> = ({ children }) => {\r\n  const [cart, setCart] = useState<Product[]>([]);\r\n\r\n  const addToCart = (product: Product) => {\r\n    // Verifica si el producto ya está en el carrito\r\n    const existingProductIndex = cart.findIndex((item) => item.id === product.id);\r\n\r\n    if (existingProductIndex !== -1) {\r\n      // Si el producto ya está en el carrito, incrementa la cantidad\r\n      const updatedCart = [...cart];\r\n      updatedCart[existingProductIndex].quantity++;\r\n      setCart(updatedCart);\r\n    } else {\r\n      // Si el producto no está en el carrito, agrégalo con cantidad 1\r\n      setCart((prevCart) => [...prevCart, { ...product, quantity: 1 }]);\r\n    }\r\n  };\r\n\r\n  const removeFromCart = (productId: string) => {\r\n    setCart((prevCart) =>\r\n      prevCart.map((item) => (item.id === productId ? { ...item, quantity: Math.max(0, item.quantity - 1) } : item))\r\n    );\r\n  };\r\n\r\n  return <CartContext.Provider value={{ cart, addToCart, removeFromCart }}>{children}</CartContext.Provider>;\r\n};\r\n\r\nexport const useCart = () => {\r\n  const context = useContext(CartContext);\r\n  if (!context) {\r\n    throw new Error('useCart must be used within a CartProvider');\r\n  }\r\n  return context;\r\n};\r\n"],"mappings":";;;;;;;AACA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAaC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAiB9E,IAAMC,WAAW,GAAGL,aAAa,CAA8BM,SAAS,CAAC;AAMzE,OAAO,IAAMC,YAAyC,GAAG,SAA5CA,YAAyCA,CAAAC,IAAA,EAAqB;EAAA,IAAfC,QAAQ,GAAAD,IAAA,CAARC,QAAQ;EAClE,IAAAC,SAAA,GAAwBR,QAAQ,CAAY,EAAE,CAAC;IAAAS,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAxCG,IAAI,GAAAF,UAAA;IAAEG,OAAO,GAAAH,UAAA;EAEpB,IAAMI,SAAS,GAAG,SAAZA,SAASA,CAAIC,OAAgB,EAAK;IAEtC,IAAMC,oBAAoB,GAAGJ,IAAI,CAACK,SAAS,CAAC,UAACC,IAAI;MAAA,OAAKA,IAAI,CAACC,EAAE,KAAKJ,OAAO,CAACI,EAAE;IAAA,EAAC;IAE7E,IAAIH,oBAAoB,KAAK,CAAC,CAAC,EAAE;MAE/B,IAAMI,WAAW,GAAAC,kBAAA,CAAOT,IAAI,CAAC;MAC7BQ,WAAW,CAACJ,oBAAoB,CAAC,CAACM,QAAQ,EAAE;MAC5CT,OAAO,CAACO,WAAW,CAAC;IACtB,CAAC,MAAM;MAELP,OAAO,CAAC,UAACU,QAAQ;QAAA,UAAAC,MAAA,CAAAH,kBAAA,CAASE,QAAQ,IAAAE,aAAA,CAAAA,aAAA,KAAOV,OAAO;UAAEO,QAAQ,EAAE;QAAC;MAAA,CAAG,CAAC;IACnE;EACF,CAAC;EAED,IAAMI,cAAc,GAAG,SAAjBA,cAAcA,CAAIC,SAAiB,EAAK;IAC5Cd,OAAO,CAAC,UAACU,QAAQ;MAAA,OACfA,QAAQ,CAACK,GAAG,CAAC,UAACV,IAAI;QAAA,OAAMA,IAAI,CAACC,EAAE,KAAKQ,SAAS,GAAAF,aAAA,CAAAA,aAAA,KAAQP,IAAI;UAAEI,QAAQ,EAAEO,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEZ,IAAI,CAACI,QAAQ,GAAG,CAAC;QAAC,KAAKJ,IAAI;MAAA,CAAC,CAAC;IAAA,CAChH,CAAC;EACH,CAAC;EAED,OAAOf,OAAA,CAACC,WAAW,CAAC2B,QAAQ;IAACC,KAAK,EAAE;MAAEpB,IAAI,EAAJA,IAAI;MAAEE,SAAS,EAATA,SAAS;MAAEY,cAAc,EAAdA;IAAe,CAAE;IAAAlB,QAAA,EAAEA;EAAQ;IAAAyB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,GAAAC,KAAuB,CAAC;AAC5G,CAAC;AAED,OAAO,IAAMC,OAAO,GAAG,SAAVA,OAAOA,CAAA,EAAS;EAC3B,IAAMC,OAAO,GAAGvC,UAAU,CAACI,WAAW,CAAC;EACvC,IAAI,CAACmC,OAAO,EAAE;IACZ,MAAM,IAAIC,KAAK,CAAC,4CAA4C,CAAC;EAC/D;EACA,OAAOD,OAAO;AAChB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}