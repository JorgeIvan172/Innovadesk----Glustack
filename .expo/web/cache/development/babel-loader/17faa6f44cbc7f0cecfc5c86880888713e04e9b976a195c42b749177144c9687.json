{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\jorge\\\\OneDrive\\\\Documentos\\\\ESCUELA\\\\UNIVERSIDAD\\\\10MO SEMESTRE\\\\MULTIPLATAFORMA\\\\Innovadesk----Glustack\\\\Context\\\\CartContext.tsx\",\n  _this = this;\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { createContext, useContext, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar CartContext = createContext(undefined);\nexport var CartProvider = function CartProvider(_ref) {\n  var children = _ref.children;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    cart = _useState2[0],\n    setCart = _useState2[1];\n  var addToCart = function addToCart(product) {\n    var existingItemIndex = cart.findIndex(function (item) {\n      return item.product.id === product.id;\n    });\n    if (existingItemIndex !== -1) {\n      var updatedCart = _toConsumableArray(cart);\n      updatedCart[existingItemIndex].quantity += 1;\n      setCart(updatedCart);\n    } else {\n      setCart(function (prevCart) {\n        return [].concat(_toConsumableArray(prevCart), [{\n          product: product,\n          quantity: 1\n        }]);\n      });\n    }\n  };\n  var removeFromCart = function removeFromCart(productId) {\n    var updatedCart = cart.map(function (item) {\n      return item.product.id === productId ? _objectSpread(_objectSpread({}, item), {}, {\n        quantity: item.quantity - 1\n      }) : item;\n    });\n    setCart(updatedCart.filter(function (item) {\n      return item.quantity > 0;\n    }));\n  };\n  return _jsxDEV(CartContext.Provider, {\n    value: {\n      cart: cart,\n      addToCart: addToCart,\n      removeFromCart: removeFromCart\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 10\n  }, _this);\n};\nexport var useCart = function useCart() {\n  var context = useContext(CartContext);\n  if (!context) {\n    throw new Error('useCart must be used within a CartProvider');\n  }\n  return context;\n};","map":{"version":3,"names":["React","createContext","useContext","useState","jsxDEV","_jsxDEV","CartContext","undefined","CartProvider","_ref","children","_useState","_useState2","_slicedToArray","cart","setCart","addToCart","product","existingItemIndex","findIndex","item","id","updatedCart","_toConsumableArray","quantity","prevCart","concat","removeFromCart","productId","map","_objectSpread","filter","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_this","useCart","context","Error"],"sources":["C:/Users/jorge/OneDrive/Documentos/ESCUELA/UNIVERSIDAD/10MO SEMESTRE/MULTIPLATAFORMA/Innovadesk----Glustack/Context/CartContext.tsx"],"sourcesContent":["// CartContext.tsx\r\nimport React, { createContext, useContext, ReactNode, useState } from 'react';\r\n\r\ninterface Product {\r\n  id: string;\r\n  name: string;\r\n  price: number;\r\n  img: string;\r\n  // Otros detalles del producto...\r\n}\r\n\r\ninterface CartItem {\r\n  product: Product;\r\n  quantity: number;\r\n}\r\n\r\ninterface CartContextType {\r\n  cart: CartItem[];\r\n  addToCart: (product: Product) => void;\r\n  removeFromCart: (productId: string) => void;\r\n}\r\n\r\nconst CartContext = createContext<CartContextType | undefined>(undefined);\r\n\r\ninterface CartProviderProps {\r\n  children: ReactNode;\r\n}\r\n\r\nexport const CartProvider: React.FC<CartProviderProps> = ({ children }) => {\r\n  const [cart, setCart] = useState<CartItem[]>([]);\r\n\r\n  const addToCart = (product: Product) => {\r\n    const existingItemIndex = cart.findIndex((item) => item.product.id === product.id);\r\n\r\n    if (existingItemIndex !== -1) {\r\n      const updatedCart = [...cart];\r\n      updatedCart[existingItemIndex].quantity += 1;\r\n      setCart(updatedCart);\r\n    } else {\r\n      setCart((prevCart) => [...prevCart, { product, quantity: 1 }]);\r\n    }\r\n  };\r\n\r\n  const removeFromCart = (productId: string) => {\r\n    const updatedCart = cart.map((item) =>\r\n      item.product.id === productId\r\n        ? { ...item, quantity: item.quantity - 1 }\r\n        : item\r\n    );\r\n\r\n    setCart(updatedCart.filter((item) => item.quantity > 0));\r\n  };\r\n\r\n  return <CartContext.Provider value={{ cart, addToCart, removeFromCart }}>{children}</CartContext.Provider>;\r\n};\r\n\r\nexport const useCart = () => {\r\n  const context = useContext(CartContext);\r\n  if (!context) {\r\n    throw new Error('useCart must be used within a CartProvider');\r\n  }\r\n  return context;\r\n};\r\n"],"mappings":";;;;;;;AACA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAaC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAqB9E,IAAMC,WAAW,GAAGL,aAAa,CAA8BM,SAAS,CAAC;AAMzE,OAAO,IAAMC,YAAyC,GAAG,SAA5CA,YAAyCA,CAAAC,IAAA,EAAqB;EAAA,IAAfC,QAAQ,GAAAD,IAAA,CAARC,QAAQ;EAClE,IAAAC,SAAA,GAAwBR,QAAQ,CAAa,EAAE,CAAC;IAAAS,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAzCG,IAAI,GAAAF,UAAA;IAAEG,OAAO,GAAAH,UAAA;EAEpB,IAAMI,SAAS,GAAG,SAAZA,SAASA,CAAIC,OAAgB,EAAK;IACtC,IAAMC,iBAAiB,GAAGJ,IAAI,CAACK,SAAS,CAAC,UAACC,IAAI;MAAA,OAAKA,IAAI,CAACH,OAAO,CAACI,EAAE,KAAKJ,OAAO,CAACI,EAAE;IAAA,EAAC;IAElF,IAAIH,iBAAiB,KAAK,CAAC,CAAC,EAAE;MAC5B,IAAMI,WAAW,GAAAC,kBAAA,CAAOT,IAAI,CAAC;MAC7BQ,WAAW,CAACJ,iBAAiB,CAAC,CAACM,QAAQ,IAAI,CAAC;MAC5CT,OAAO,CAACO,WAAW,CAAC;IACtB,CAAC,MAAM;MACLP,OAAO,CAAC,UAACU,QAAQ;QAAA,UAAAC,MAAA,CAAAH,kBAAA,CAASE,QAAQ,IAAE;UAAER,OAAO,EAAPA,OAAO;UAAEO,QAAQ,EAAE;QAAE,CAAC;MAAA,CAAC,CAAC;IAChE;EACF,CAAC;EAED,IAAMG,cAAc,GAAG,SAAjBA,cAAcA,CAAIC,SAAiB,EAAK;IAC5C,IAAMN,WAAW,GAAGR,IAAI,CAACe,GAAG,CAAC,UAACT,IAAI;MAAA,OAChCA,IAAI,CAACH,OAAO,CAACI,EAAE,KAAKO,SAAS,GAAAE,aAAA,CAAAA,aAAA,KACpBV,IAAI;QAAEI,QAAQ,EAAEJ,IAAI,CAACI,QAAQ,GAAG;MAAC,KACtCJ,IAAI;IAAA,CACV,CAAC;IAEDL,OAAO,CAACO,WAAW,CAACS,MAAM,CAAC,UAACX,IAAI;MAAA,OAAKA,IAAI,CAACI,QAAQ,GAAG,CAAC;IAAA,EAAC,CAAC;EAC1D,CAAC;EAED,OAAOnB,OAAA,CAACC,WAAW,CAAC0B,QAAQ;IAACC,KAAK,EAAE;MAAEnB,IAAI,EAAJA,IAAI;MAAEE,SAAS,EAATA,SAAS;MAAEW,cAAc,EAAdA;IAAe,CAAE;IAAAjB,QAAA,EAAEA;EAAQ;IAAAwB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,GAAAC,KAAuB,CAAC;AAC5G,CAAC;AAED,OAAO,IAAMC,OAAO,GAAG,SAAVA,OAAOA,CAAA,EAAS;EAC3B,IAAMC,OAAO,GAAGtC,UAAU,CAACI,WAAW,CAAC;EACvC,IAAI,CAACkC,OAAO,EAAE;IACZ,MAAM,IAAIC,KAAK,CAAC,4CAA4C,CAAC;EAC/D;EACA,OAAOD,OAAO;AAChB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}